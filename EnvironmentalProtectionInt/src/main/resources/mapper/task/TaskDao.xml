<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tengdi.environmentalprotectionint.modules.task.dao.TaskDao">
    <insert id="addTask" parameterType="com.tengdi.environmentalprotectionint.modules.task.entity.Task">
        INSERT INTO `sys_task`(`task_name`,`assigned_user_id`,`starttime`,`endtime`,`task_describe`,`handlingopinions`)
VALUES(#{taskName},#{assignedUserId},#{startTime},#{endTime},#{taskDescribe},#{handlingopinions});
    </insert>
    <select id="queryOfficer" resultType="com.tengdi.userauthenuuid.modules.sys.entity.SysUserEntity">
        SELECT * FROM `sys_user` su WHERE su.`dept_id`=2

    </select>
    <select id="queryTask" resultType="com.tengdi.environmentalprotectionint.modules.task.entity.Task">
        SELECT * FROM `sys_task` st WHERE st.`responsible_user_id` IS NULL
    </select>

    <update id="appointedTask" parameterType="map">
        UPDATE `sys_task`  st SET  st.`responsible_user_id`=#{map.uid} WHERE st.`id`=#{map.tid}

    </update>
</mapper>
